=============================================
üîó INTEGRAR FILTROS COM API DE DETALHAMENTO
=============================================

‚úÖ ARQUIVO CRIADO:
PROMPT_LOVABLE_INTEGRAR_FILTROS.md

=============================================

üéØ OBJETIVO:

Conectar os filtros da topbar do Lovable
(per√≠odo de datas e n√∫mero do contrato)
com a API de detalhamento.

=============================================

üìã FILTROS NA TOPBAR (Imagem):

1. Seletor de Per√≠odo: 01/10/2025 - 31/10/2025
2. Seletor de Empresa: 2444 - 2E DESPACHOS ADUANEIROS

=============================================

üîó URL DA API:

GET /api/apolices/{nrContrato}/detalhamento?dataInicio={DD/MM/YYYY}&dataFim={DD/MM/YYYY}

EXEMPLO:
https://sua-url.ngrok/api/apolices/2444/detalhamento?dataInicio=01/10/2025&dataFim=31/10/2025

=============================================

üíª IMPLEMENTA√á√ÉO (Resumo):

1. Capturar valores dos filtros da topbar
   - dateRange.from ‚Üí dataInicio
   - dateRange.to ‚Üí dataFim

2. Formatar datas para DD/MM/YYYY
   const formatarData = (data: Date) => {
     const dia = String(data.getDate()).padStart(2, '0');
     const mes = String(data.getMonth() + 1).padStart(2, '0');
     const ano = data.getFullYear();
     return `${dia}/${mes}/${ano}`;
   };

3. Passar para o hook useDetalhamentoApolice
   const { data } = useDetalhamentoApolice(
     apolice,
     dataInicio,  // ‚Üê Do filtro
     dataFim      // ‚Üê Do filtro
   );

4. Hook monta URL com par√¢metros
   const params = new URLSearchParams({
     dataInicio: '01/10/2025',
     dataFim: '31/10/2025'
   });

=============================================

üîÑ FLUXO COMPLETO:

1. Usu√°rio seleciona per√≠odo: 01/10 - 31/10
2. Usu√°rio clica "Detalhamento" na ap√≥lice 2444
3. Hook captura:
   - apolice = 2444
   - dataInicio = "01/10/2025"
   - dataFim = "31/10/2025"
4. API chamada:
   GET /api/apolices/2444/detalhamento?dataInicio=01/10/2025&dataFim=31/10/2025
5. Dados filtrados exibidos no modal

=============================================

üì¶ C√ìDIGO PRONTO:

O prompt PROMPT_LOVABLE_INTEGRAR_FILTROS.md
cont√©m:

‚úì Hook useDetalhamentoApolice completo
‚úì Fun√ß√£o de formata√ß√£o de datas
‚úì Exemplo completo de integra√ß√£o
‚úì C√≥digo do modal com per√≠odo exibido
‚úì Tratamento de loading e erros
‚úì Valida√ß√µes
‚úì Troubleshooting

=============================================

‚ú® RECURSOS INCLU√çDOS:

‚úì Formatar Date ‚Üí DD/MM/YYYY
‚úì Capturar valores da topbar
‚úì Passar par√¢metros para API
‚úì Mostrar per√≠odo no modal
‚úì Recarregar ao mudar filtros
‚úì Valida√ß√£o de dados vazios

=============================================

üéØ USAR NO LOVABLE:

1. Abrir: PROMPT_LOVABLE_INTEGRAR_FILTROS.md
2. Copiar TODO o conte√∫do
3. Colar no Lovable
4. Ajustar nomes de vari√°veis conforme seu c√≥digo
5. Testar!

=============================================

üí° PRINCIPAIS PONTOS:

‚úì API espera formato: DD/MM/YYYY (brasileiro)
‚úì N√∫mero do contrato vem da linha clicada
‚úì Datas vem do filtro da topbar
‚úì queryKey inclui datas (recarrega ao mudar)
‚úì Modal mostra per√≠odo aplicado

=============================================

üß™ TESTAR:

1. Selecionar per√≠odo: 01/10/2025 - 31/10/2025
2. Clicar "Detalhamento" na ap√≥lice 2444
3. Verificar URL chamada no Network DevTools
4. Deve ser: /api/apolices/2444/detalhamento?dataInicio=01/10/2025&dataFim=31/10/2025

=============================================

‚úÖ A API J√Å EST√Å PRONTA!

S√≥ falta conectar os filtros do Lovable
com os par√¢metros da API usando o c√≥digo
do prompt.

=============================================
